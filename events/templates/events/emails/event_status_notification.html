{% extends 'events/emails/base_email.html' %}

{% block email_content %}
    <p style="font-size: 16px; margin: 0 0 16px;">Hello {{ organizer.username }},</p>
    <p style="margin: 0 0 24px;">This is an update regarding your event submission for: <strong>"{{ event.title }}"</strong>.</p>
    
    <!-- Status Box -->
    <div style="background-color: #f9fafb; border: 1px solid #e5e7eb; border-radius: 8px; padding: 24px; text-align: center; margin-bottom: 24px;">
        <p style="font-size: 14px; color: #4b5563; margin: 0 0 8px; text-transform: uppercase; letter-spacing: 0.5px;">Event Status Updated</p>
        {% if event.status == 'Approved' %}
            <p style="font-size: 28px; font-weight: 700; color: #059669; margin: 0;">
                <span style="vertical-align: middle;">✔</span> Approved
            </p>
        {% elif event.status == 'Rejected' %}
            <p style="font-size: 28px; font-weight: 700; color: #dc2626; margin: 0;">
                <span style="vertical-align: middle;">✖</span> Rejected
            </p>
        {% else %}
            <p style="font-size: 28px; font-weight: 700; color: #374151; margin: 0;">{{ event.status }}</p>
        {% endif %}
    </div>

    <!-- Conditional Content -->
    {% if event.status == 'Approved' %}
        <h3 style="font-size: 18px; font-weight: 600; margin: 0 0 16px;">What's Next?</h3>
        <p style="margin: 0 0 24px;">Congratulations! Your event is now live and visible to participants on the CEMS portal. You can manage it, view registrations, and access the scanner from your Organizer Dashboard.</p>
        <div style="text-align: center; margin: 32px 0;">
            <a href="http://{{ domain }}{% url 'organizer_dashboard' %}" style="background-color: #4f46e5; color: #ffffff; padding: 14px 28px; text-decoration: none; border-radius: 8px; font-weight: 600; display: inline-block;">Go to My Dashboard</a>
        </div>
    {% elif event.status == 'Rejected' %}
        <h3 style="font-size: 18px; font-weight: 600; margin: 0 0 8px;">Reason for Rejection</h3>
        <blockquote style="border-left: 4px solid #e5e7eb; padding-left: 1rem; margin: 0 0 24px; font-style: italic; color: #4b5563;">
            <p style="margin: 0;">{{ event.rejection_reason|default:"No reason provided." }}</p>
        </blockquote>
        <p style="margin: 0 0 24px;">Please review the feedback above. You can edit and resubmit your event for approval at any time.</p>
        <div style="text-align: center; margin: 32px 0;">
            <a href="http://{{ domain }}{% url 'edit_event' event.id %}" style="background-color: #3b82f6; color: #ffffff; padding: 14px 28px; text-decoration: none; border-radius: 8px; font-weight: 600; display: inline-block;">Edit and Resubmit Event</a>
        </div>
    {% endif %}

    <p style="margin-top: 32px; border-top: 1px solid #e5e7eb; padding-top: 24px;">Sincerely,<br>The CEMS Admin Team</p>
{% endblock %}
